# learn-compiler
学习编译器
## 计划
- [x] 用js写简单的解释器super-tiny-interpreter
  - 包含词法解析，语法解析，解析执行语法树
  - 仅支持赋值语句和算数表达式运算
- [x] 用js写简单的解释器tiny-interpreter
  - 词法解析
    - 参考mocha1995较为完备
    - 除了特殊进制表示的数字字面量和字符串字面量
  - 语法解析
    - 手写构建AST，目的支持语法解析
  - 语法支持
    - [x] 变量声明
    - [x] 函数声明
    - [x] 函数调用
    - [x] 字面量(number,string,true,false,null)
    - [x] return语句
    - [x] 一元表达式
    - [x] 二元表达式
  - 运行时
    - [x] 函数调用栈
    - [x] 静态作用域
- [ ] 基于acorn的parser用js实现一把完备的解释器 
  - 语法支持
    - [ ] 变量声明
    - [ ] 函数声明
    - [ ] 函数调用
    - [ ] 成员表达式
    - [ ] 赋值表达式
    - [ ] 一元表达式
    - [ ] 二元表达式
    - [ ] 条件表达式
    - [ ] 循环语句
    - [ ] 原型对象
    - [ ] 数组对象
    - [ ] 对象字面量
    - [ ] 数组字面量
    - [ ] js标准库的支持
  - 运行时
    - [ ] 函数调用栈
    - [ ] 静态作用域
    - [ ] 闭包
    - [ ] 垃圾回收
    - [ ] 异常上报
  
- [ ] 用antlr生成js词法分析器和语法分析器以及解释器
- [ ] 手写一个完备的包含词法分析和语法分析以及解释器
- [ ] js手写一个超小的js虚拟机
- [ ] 基于手写的解析出的抽象语法树生成和解析字节码（完备）
- [ ] 参考mocha1995实现一个优化性能后的多合一解释生成字节码
- [ ] 再去参考spiderMonkey的早期实现
- [ ] 然后再去看quickjs早期代码和近期实现
- [ ] 最后看v8早期代码和阶段性升级代码
- [ ] 尝试antlr尝试生成c89标准的语法树，然后转义生成llvm的IR
